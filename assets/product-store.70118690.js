import{aj as f,r as c,ak as o}from"./index.9a216b57.js";const n="products",u="tags",v=f("ProductStore",()=>{const d=c(),e=c([]),s=c([]),l=()=>{const t=localStorage.getItem(n);if(t)try{e.value=JSON.parse(t)}catch{e.value=[]}const r=localStorage.getItem(u);if(r)try{e.value=JSON.parse(r)}catch{e.value=[]}},i=()=>{localStorage.setItem(n,JSON.stringify(e.value)),localStorage.setItem(u,JSON.stringify(e.value))};l();const g=async()=>{try{const t=await o.get("product");e.value=t.data}catch(t){console.error("Error fetching Products:",t)}},a=async()=>{await g(),await p(),i()},p=async()=>{try{const t=await o.get("product/tags");s.value=t.data}catch(t){console.error("Error fetching tags:",t)}};return{products:e,tags:s,profile:d,fetchAll:a,createProduct:async t=>{try{await o.post("product",t),await a()}catch(r){console.error("Error creating Product:",r)}},updateProduct:async t=>{try{if(t.id){const r=encodeURIComponent(t.id);await o.put(`product/${r}`,t)}else await o.post("product",t);return await a(),!0}catch(r){return console.error("Error when editing a product:",r),!1}},deleteProduct:async t=>{try{return await o.delete(`product/${t.id}`),await a(),!0}catch(r){return console.error("Error deleting Product:",r),!1}}}});export{v as u};
